# Проектирование разделов

После [Планирования продукта](product-planning.md) можно переходить к проектированию отдельных разделов. Пройдите каждый раздел вашей дорожной карты, выполняя шаги ниже.

## 1. Сформируйте раздел

```
/shape-section
```

Определите, что делает раздел. Если разделов несколько, вас спросят, с каким работать.

Это диалоговый процесс, в котором вы определите:

- **Обзор** — назначение раздела (2–3 предложения)
- **Пользовательские сценарии** — основные действия и пошаговые взаимодействия
- **Требования к интерфейсу** — нужные макеты, паттерны или компоненты
- **Границы области** — что намеренно исключено

Поделитесь заметками и идеями. AI задаст уточняющие вопросы о действиях пользователя, отображаемой информации и UI-паттернах. Сфокусируйтесь на опыте и требованиях к интерфейсу — без деталей бэкенда и базы данных.

Вас также спросят, показывать ли раздел внутри оболочки приложения (обычно так) или как отдельную страницу (например, для лендингов или встраиваемых виджетов).

**Создает:** `product/sections/[section-id]/spec.md`

## 2. Создайте примерные данные

```
/sample-data
```

Сгенерируйте реалистичные данные по спецификации. Они заполнят ваши дизайны экранов и сделают их "живыми".

AI анализирует спецификацию раздела и предлагает структуру данных:

- **Сущности** — на основе глобальной модели данных (если задана) или выводятся из спецификации
- **Связи** — как данные связаны между собой
- **Примерные записи** — 5–10 реалистичных записей с разным содержанием

Также автоматически будут сгенерированы типы TypeScript:

- **Интерфейсы данных** — определения типов для каждой сущности
- **Интерфейс props** — что ожидает компонент, включая коллбеки действий (onView, onEdit, onDelete и т.д.)

Примерные данные включают:
- реалистичные имена, даты и описания (не "Lorem ipsum")
- разные длины контента и статусы
- крайние случаи (пустые массивы, длинный текст)

**Создает:**
- `product/sections/[section-id]/data.json` — Sample data with `_meta` descriptions
- `product/sections/[section-id]/types.ts` — TypeScript interfaces

## 3. Спроектируйте экран

```
/design-screen
```

Соберите реальные React-компоненты для раздела. Здесь спецификация и данные превращаются в рабочий UI.

### Что создается

**Экспортируемые компоненты** (на props, переносимые):

Главный компонент и подкомпоненты, принимающие данные и коллбеки через props. Именно они экспортируются в вашу кодовую базу.

```tsx
// Пример: компоненты принимают props и не импортируют данные напрямую
export function InvoiceList({
  invoices,
  onView,
  onEdit,
  onDelete,
  onCreate
}: InvoiceListProps) {
  // ...
}
```

**Preview-обертка** (только для Design OS):

Обертка, которая импортирует примерные данные и передает их компоненту, чтобы вы могли увидеть результат в Design OS.

### Требования к дизайну

Все дизайны экранов должны включать:

- **Адаптивность** — префиксы Tailwind (`sm:`, `md:`, `lg:`)
- **Светлая и темная темы** — использование `dark:` вариантов
- **Примененные токены дизайна** — выбранные цвета и типографика
- **Все требования спецификации** — реализованы все сценарии и требования UI

### Несколько представлений

Если спецификация предполагает несколько представлений (список, детальная, форма и т.д.), вас спросят, какое делать первым. Для остальных запустите `/design-screen` еще раз.

**Создает:**
- `src/sections/[section-id]/components/[ViewName].tsx` — Main component
- `src/sections/[section-id]/components/[SubComponent].tsx` — Sub-components as needed
- `src/sections/[section-id]/components/index.ts` — Component exports
- `src/sections/[section-id]/[ViewName].tsx` — Preview wrapper

**Важно:** перезапустите dev-сервер после создания дизайнов экранов, чтобы увидеть изменения.

## 4. Сделайте скриншоты (опционально)

```
/screenshot-design
```

Сделайте скриншоты дизайнов экранов для документации. Скриншоты сохраняются рядом со спецификацией и данными.

Команда:
1. Автоматически запускает dev-сервер
2. Переходит к вашему дизайну экрана
3. Скрывает навигационную панель Design OS
4. Делает скриншот всей страницы

Скриншоты полезны для:
- визуальных референсов при реализации
- документации и материалов передачи
- сравнения дизайнов между разделами

**Требуется:** сервер Playwright MCP. Если он не установлен, вы получите инструкции по настройке.

**Создает:** `product/sections/[section-id]/[screen-name].png`

## Повторите для каждого раздела

Проходите разделы дорожной карты по порядку. Каждый раздел опирается на основу, которую вы создали, и выигрывает от целостности глобальной модели данных и токенов дизайна.

## Что дальше

Когда все разделы готовы, можно экспортировать. См. [Экспорт](export.md) для создания полного пакета передачи.
